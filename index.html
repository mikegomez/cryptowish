<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" 
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="./crypto.css">

 
</head>
<body id="nighttime">

        <div id="header"><h1>CryptoWish</h1>
          <button type="button" onclick ="changeBGColor('nighttime')" id="button1"><span id="moon">&#9789</span></button>
        </div>
        <div id="headline"><h2>Track all your potential Profits and losses without any of the risk!</h2></div>

        <div id="apicontainer">
          <!-- <table id="tableName"></table> -->
            <!-- <div>bird brains</div> -->
            <!-- <div id="crypto-list"></div>
            <div id="crypto-list1"></div> -->
        </div>

      <!-- main container -->
        
        <div id="container2">
            <div id="header2"><h2>My Picks</h2></div>
        <div id="space">
        <table id="myTable">
            <tr>
                    <!-- <div class="picks1"> -->
              <th>Coin Bought</th>
                <th><div>Date Bought</div></th>
                <th><div>How many coins bought</div></th>
                <th><div>Coin price at purchase</div></th>
                <th><div>Total Cost</div></th>
                <!-- <th><div>Profit/Loss</div></th> -->
            </tr>    
        
        
              <!-- <form action="" method="POST"> -->
         
            <tr>
            <td>
                <select id="dropdown1">
                <option value="BTC" selected>Bitcoin</option>
                <option value="ETH">Ethereum</option>
                <option value="XRP">XRP</option>
                <option value="LTC">Litecoin</option>
                <option value="EOS">EOS</option>
                <option value="BCH">Bitcoin Cash</option>
                <option value="XLM">Stellar</option>
                <option value="ADA">Cardano</option>
                <option value="TRX">Tron</option>
              </select>
            </td>  
              <td><input type="date" id="date1" value="" name="dateBought" /></td>
              <td><input type="text" value="" name="Quantity bought"  class="number1"/></td>
              <td><span class="currencyinput">$<input type="text"  class="number2" name="Price paid" value="" /></span></td>
              <td><span class="currencyinput">$<input type="text" value=""  name="Total Cost" class="number3"/></span></td>
              <!-- <td> <span class="currencyinput">$<input type="text" value="" name="Profit/Loss"  class="number4" /></span></td> -->
            </tr>
              <!--number (above) if needed -- code min="0" step="0.01" data-number-to-fixed="2" data-number-stepfactor="100"-->
               <!-- add another row option (JS?) -->
            <tr>
            <td><select id="dropdown2">
                <option value="BTC" selected>Bitcoin</option>
                <option value="ETH">Ethereum</option>
                <option value="XRP">XRP</option>
                <option value="LTC">Litecoin</option>
                <option value="EOS">EOS</option>
                <option value="BCH">Bitcoin Cash</option>
                <option value="XLM">Stellar</option>
                <option value="ADA">Cardano</option>
                <option value="TRX">Tron</option>
              </select>
            </td>
            <td><input type="date" id="date1" value="" name="dateBought" /></td>
            <td><input type="text" value="" name="Quantity bought"  class="number5"/></td>
            <td><span class="currencyinput">$<input type="text"  class="number6" name="Price paid" value="" /></span></td>
            <td><span class="currencyinput">$<input type="text" value=""  name="Total Cost" class="number7"/></span></td>
            <!-- <td><span class="currencyinput">$<input type="text" value="" name="Profit/Loss"  class="number8" /></span></td> -->
            </tr> <!-- </form> -->
            <tr>
              <td>
                  <select id="dropdown1">
                  <option value="BTC" selected>Bitcoin</option>
                  <option value="ETH">Ethereum</option>
                  <option value="XRP">XRP</option>
                  <option value="LTC">Litecoin</option>
                  <option value="EOS">EOS</option>
                  <option value="BCH">Bitcoin Cash</option>
                  <option value="XLM">Stellar</option>
                  <option value="ADA">Cardano</option>
                  <option value="TRX">Tron</option>
                </select>
              </td>  
                <td><input type="date" id="date1" value="" name="dateBought" /></td>
                <td><input type="text" value="" name="Quantity bought"  class="number9"/></td>
                <td><span class="currencyinput">$<input type="text"  class="number10" name="Price paid" value="" /></span></td>
                <td><span class="currencyinput">$<input type="text" value=""  name="Total Cost" class="number11"/></span></td>
                <!-- <td> <span class="currencyinput">$<input type="text" value="" name="Profit/Loss"  class="number12" /></span></td> -->
              </tr>
                <!--number (above) if needed -- code min="0" step="0.01" data-number-to-fixed="2" data-number-stepfactor="100"-->
                 <!-- add another row option (JS?) -->
              <tr>
              <td><select id="dropdown2">
                  <option value="BTC" selected>Bitcoin</option>
                  <option value="ETH">Ethereum</option>
                  <option value="XRP">XRP</option>
                  <option value="LTC">Litecoin</option>
                  <option value="EOS">EOS</option>
                  <option value="BCH">Bitcoin Cash</option>
                  <option value="XLM">Stellar</option>
                  <option value="ADA">Cardano</option>
                  <option value="TRX">Tron</option>
                </select>
              </td>
              <td><input type="date" id="date1" value="" name="dateBought" /></td>
              <td><input type="text" value="" name="Quantity bought"  class="number13"/></td>
              <td><span class="currencyinput">$<input type="text"  class="number14" name="Price paid" value="" /></span></td>
              <td><span class="currencyinput">$<input type="text" value=""  name="Total Cost" class="number15"/></span></td>
              <!-- <td><span class="currencyinput">$<input type="text" value="" name="Profit/Loss"  class="number16" /></span></td> -->
              </tr> 
            </table>
        
        </div>
          <!-- add new row section -->
          <div><button type="submit" id="newrow">Add more coins</button></div>
         <!-- <div id="container3">  -->
          <!-- <div><table id="myTable">
            <tr>
                    <td>Row1</td>
                    <td>Row1</td>
                    <td>Row1</td>
                    <td>Row1</td>
                    <td>Row1</td>
                    <td>Row1</td>
            </tr>         
          </table></div>
        </div> --> 

        <div id="resultsDiv">
          <h2>Saved Picks</h2>
          <div><table>
            <tr>
              <th>Coin Bought</th>
                <th>Date Bought</th>
                <th>How many coins bought</th>
                <th>Coin price at purchase</th>
                <th>Total Cost</th>
                <th>Profit/Loss</th>
            </tr>
            <tr>
                <td><input type="text"  class="" value="" name="" /></td>
                <td><input type="date" id="date1" value="" name="dateBought" /></td>
                <td><input type="text"  value="" name="Quantity bought"  class="number13" /></td>
                <td><input type="text"  class="number14" name="Price paid" value="" /></td>
                <td><input type="text"  value=""  name="Total Cost" class="number15"/></td>
                <td><input type="text"  value="" name="Profit/Loss"  class="number16"/></td>

            </tr>
          </table></div>




        </div>

      <!-- footer -->

          <footer id="footy">
            <div id="ftbox1">CryptoWish <br /><br />
              <p>CryptoWish is a fun way to track all your 'potential profits and losses without any of the actual risk! That way you can invest and know that you will not lose any money, the only downfall is...you will not also make any money. <br /> We are a fun new website that brings entertainment and investment all into one! </p><p>Good Luck and Happy Trading!!!</p></div>
                <div id="ftbox2"><p>Donations <br /></p>
                  <p><img src="./assets/images/index.png" id="btcdonate"><a href="https://www.blockchain.com/btc/address/1DbMnJedLp9oyZK83HDjCbWD2CJiAFRqNV" target="blank">1DbMnJedLp9oyZK83HDjCbWD2CJiAFRqNV</a>(BTC)</p>
                  <p><img src="./assets/images/ethereum.png" id="btcdonate"><a href="https://etherscan.io/address/0x3aa0be33a6e4b2bebe44455fcdb3888f92e1471b" target="blank">0x3aa0be33a6e4b2bebe44455fcdb3888f92e1471b</a></p>
                  <p></p><img src="./assets/images/litecoin.png" id="btcdonate"> <a href="https://live.blockcypher.com/ltc/address/LT6GpHQ2c9JkUJwZBniWsWC3WPXYrG1xUv" target="blank">LT6GpHQ2c9JkUJwZBniWsWC3WPXYrG1xUv</a> (LTC)</p>
                  <p></p><img src="./assets/images/bitcoin_cash.png" id="btcdonate"><a href="https://blockchair.com/bitcoin-cash/address/rPVMhWBsfF9iMXYj3aAzJVkPDTFNSyWdKy" target="blank"> rPVMhWBsfF9iMXYj3aAzJVkPDTFNSyWdKy</a> (BCH)</p>
                  <p></p><img src="./assets/images/circle-zcash-color.png" id="btcdonate"><a href="./assets/images/downloadzcash.png" target="blank"> t1UFb7HEmLQHmbXkvvwWTzQssZKiGoLFsku</a> (ZEC)</p>
                </div>
                    <div id="ftbox3"><p>Helpful Links <br /></p>
                      <p>API Powered by <a href="https://www.coingecko.com/en" target="_blank">CoinGecko API</a></p></div>

          </footer>
          <div id="footerfinal">Â© Copyright 2019 CryptoWish Inc. Esq. All Rights Reserved</div>

        </div>  
  
  <script src="./cryptowishmain.js"></script>
  <script>

$('#newrow').click(runtask);

function runtask() {
    $("#myTable > tbody").append("<tr><td>" + '<select id="dropdown2"><option value="BTC" selected>Bitcoin</option><option value="ETH">Ethereum</option><option value="XRP">XRP</option><option value="LTC">Litecoin</option><option value="EOS">EOS</option><option value="BCH">Bitcoin Cash</option><option value="XLM">Stellar</option><option value="ADA">Cardano</option><option value="TRX">Tron</option></select>'  + "</td><td>" + '<input type="date" id="date1" value="" name="dateBought" />' + "</td><td>" + '<input type="text" value="" name="Quantity bought"  class="number1"/>' + "</td><td>" + '<span class="currencyinput">$<input type="text"  class="number2" name="Price paid" value="" /></span>' + "</td><td>" + '<span class="currencyinput">$<input type="text" value=""  name="Total Cost" class="number3"/></span>' + "</td> </tr>");
}
//+ '<span class="currencyinput">$<input type="text" value="" name="Profit/Loss"  class="number4" /></span>'
// trainData.on("child_added", function(childSnapshot, prevChildKey){
//   $("#trainTable > tbody").append("<tr><td>" + trainName + "</td><td>" + destination + "</td><td>" + "Every " + frequency + " minutes" + "</td><td>" + nextTrainConverted + "</td><td>" + tMinutesTillTrain + "</td></tr>");

// });

// function addnewrow() {
//   let table =  document.getElementById('myTable');
//   let row = table.insertRow(0);
//   let cell1 = row.insertCell(0);
//   let cell2 = row.insertCell(1);
//   let cell3 = row.insertCell(2);
//   let cell4 = row.insertCell(3);
//   let cell5 = row.insertCell(4);

// }
// $(document).ready(function() {
// var queryURL = "https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest?CMC_PRO_API_KEY=Y50c21e04-ba24-4f94-93a5-7d6ee709d647";

// $.ajax({
// url: queryURL,
// method: "GET",
// })
// // We store all of the retrieved data inside of an object called "response"
// .then(function(response) {

// // Log the queryURL
// console.log(queryURL);

// // Log the resulting object
// console.log(response);
// $("#crypto-list").html("<h1>" + response[0].id + "</h1>");
// $("#crypto-list1").html("<h1>" + response[2].id + "</h1>");
// console.log("Wind Speed: " + response[1].id);
// }); 


      $(document).ready(function() {
  // $.getJSON(url, callback);
//   $.getJSON('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&per_page=3&page=1', function(json) {
//     tableGenerator('#tableName', json);
//   });
// });

//data = JSON.parse('{"event1":{"title":"My birthday","start":"12\/27\/2011 10:20 ","end":"12\/27\/2011 00:00 "},"event2":{"title":"My birthday again","start":"12\/27\/2011 10:20 ","end":"12\/27\/2011 00:00 "}}')
var ajaxResp = $.ajax({
  url: "https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&per_page=5&page=1",
  dataType: "json"
  })
.done(function(response) {
  $.each(response, function(i, item) {
        $('<tr>').append(
            $('<td>').text(item.name),
            $('<tr>'),
            $('<td>').text(item.current_price),
            $('<tr>'),
            $('<td>').text(item.market_cap_rank)
        ).appendTo('#apicontainer');
  console.log("success");
  // console.log(response);
  // response.forEach(function(data) { 
  // var lat = data.id;  
  // var lng = newsObject.name;
  // var imgs = newsObject.image;
  // var lop = newsObject.current_price;
  // var lap = newsObject.market_cap_rank;

//document.getElementById("apicontainer").innerHTML = lng + ", " + imgs + ", " + lop + ", " + lap;

  }); 
  

//function tableGenerator(selector, data) { // data is an array
//    var keys = [];// Get the keys to make the header
//   // // Add header
//   var head = '<thead><tr>';
//    keys.forEach(function(key) {
//     head += '<th>'+key+'</th>';
//   });
//   $(selector).append(head+'</tr></thead>');
//   var body = '<tbody>';
//   data.forEach(function(obj) { // For each row
//     var row = '<tr>';
//     keys.forEach(function(key) { // For each column
//       row += '<td>';
//       if (obj.hasOwnProperty(key)) { // If the obj doesnt has a certain key, add a blank space.
//         row += obj[key];
//       // row += "<img src = '" + key.imageLink + "' " + "alt='" + key.altText + "'></td> ";
//       }
//        row += '</td>';

//     });
//     body += row+'<tr>';
      
//   })
//   $(selector).append(body+'</tbody>');

  



// 
})
.fail(function() {
  console.log("error");
})
.always(function() {
  console.log('complete');
});

//$.getJSON('', function(json) {

//var txt = json;
//var txt = '[{"id":"bitcoin","symbol":"btc","name":"Bitcoin","image":"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579","current_price":3538.09814293831,"market_cap":61904059836.1851,"market_cap_rank":1,"total_volume":2813894537.69397,"high_24h":3691.44953776744,"low_24h":3478.65899978562,"price_change_24h":-147.29536189714,"price_change_percentage_24h":-3.99673363791083,"market_cap_change_24h":-2557667670.23369,"market_cap_change_percentage_24h":-3.96773057312032,"circulating_supply":"17492537.0","total_supply":21000000,"ath":19665.3949272416,"ath_change_percentage":-81.9842931309472,"ath_date":"2017-12-16T00:00:00.000Z","roi":null,"last_updated":"2019-01-21T02:50:49.004Z"},{"id":"ripple","symbol":"xrp","name":"XRP","image":"https://assets.coingecko.com/coins/images/44/large/XRP.png?1547033685","current_price":0.316557979953131,"market_cap":12999421329.224,"market_cap_rank":2,"total_volume":391625598.732056,"high_24h":0.328060732010947,"low_24h":0.314203626752192,"price_change_24h":-0.0113004631258068,"price_change_percentage_24h":-3.44675068291167,"market_cap_change_24h":-469350170.369581,"market_cap_change_percentage_24h":-3.48472888105454,"circulating_supply":"41040405095.0","total_supply":100000000000,"ath":3.39845,"ath_change_percentage":-90.6754052238184,"ath_date":"2018-01-07T00:00:00.000Z","roi":null,"last_updated":"2019-01-21T02:51:41.945Z"},{"id":"ethereum","symbol":"eth","name":"Ethereum","image":"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1547034048","current_price":117.224706802741,"market_cap":12252760390.8277,"market_cap_rank":3,"total_volume":1923065073.54984,"high_24h":123.133133001259,"low_24h":116.652255553394,"price_change_24h":-5.51841617373627,"price_change_percentage_24h":-4.49590660553246,"market_cap_change_24h":-572517780.771149,"market_cap_change_percentage_24h":-4.46397944053153,"circulating_supply":"104485184.0928","total_supply":null,"ath":1448.1800861342,"ath_change_percentage":-91.8975752717559,"ath_date":"2018-01-13T00:00:00.000Z","roi":{"times":43.283465221318984,"currency":"btc","percentage":4328.346522131898},"last_updated":"2019-01-21T02:51:44.518Z"}]'
// var obj = JSON.parse(txt);
// document.getElementById("apicontainer").innerHTML = obj[0].id + ", " + obj[0].name + ", " + obj[0].current_price + ", " + obj[0].market_cap_rank;

// });


// arr = []
// for(var event in data){
//     var dataCopy = data[event]
//     for(key in dataCopy){
//         if(key == "start" || key == "end"){
//             // needs more specific method to manipulate date to your needs
//             dataCopy[key] = new Date(dataCopy[key])
//         }
//     }
//     arr.push(dataCopy)
// }

// alert( JSON.stringify(arr) )

// function tableGenerator(selector, data) { // data is an array
//   var keys = Object.keys(Object.assign({}, ...data));// Get the keys to make the header
//   // Add header
//   var head = '<thead><tr>';
//   keys.forEach(function(key) {
//     head += '<th>'+key+'</th>';
//   });
//   $(selector).append(head+'</tr></thead>');
//   var body = '<tbody>';
//   data.forEach(function(obj) { // For each row
//     var row = '<tr>';
//     keys.forEach(function(key) { // For each column
//       row += '<td>';
//       if (obj.hasOwnProperty(key)) { // If the obj doesnt has a certain key, add a blank space.
//         row += obj[key];
//       // row += "<img src = '" + key.imageLink + "' " + "alt='" + key.altText + "'></td> ";
//       }
//        row += '</td>';

//     });
//     body += row+'<tr>';
      
//   })
//   $(selector).append(body+'</tbody>');

//   }

// coin input data calculations
$(".number1, .number2").bind('change', function(){
      $(".number3").val($(".number1").val() * $(".number2").val());
});

$(".number5, .number6").bind('change', function(){
      $(".number7").val($(".number5").val() * $(".number6").val());
});

// add new row functionality
// document.getElementById('getMessage').onclick=function(){
//             req=new XMLHttpRequest();
//             req.open("GET",'/json/cats.json',true);
//             req.send();
//             req.onload=function(){
//               json=JSON.parse(req.responseText);
//               var html = "";
//               json.forEach(function(val) {
//                 html += "<div class = 'cat'>";
//                 // Add your code below this line
//                 html += "<img src = '" + val.imageLink + "' " + "alt='" + val.altText + "'>";
                
//                 // Add your code above this line
//                 html += "</div><br>";
//               });
//               document.getElementsByClassName('message')[0].innerHTML=html;
//             }; 

})


  </script>
      
</body>
</html>
   