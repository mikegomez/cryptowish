<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" 
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="./crypto.css">

 
</head>
<body id="nighttime">

        <div id="header"><h1>CryptoWish</h1>
          <button type="button" onclick ="changeBGColor('nighttime')" id="button1"><span id="moon">&#9789</span></button>
        </div>
        <div id="headline"><h2>Track all your potential Profits and losses without any of the risk!</h2></div>

        <div id="apicontainer">
          <table id="tableName"></table>
            <div>bird brains</div>
            <div id="crypto-list"></div>
            <div id="crypto-list1"></div>
        </div>

      <!-- main container -->
        
        <div id="container2">
            <div id="header2">My Picks</div>
        <div id="space">
        <table id="myTable">
            <tr>
                    <!-- <div class="picks1"> -->
              <th>Coin Bought</th>
                <th><div>Date Bought</div></th>
                <th><div>How many coins bought</div></th>
                <th><div>Coin price at purchase</div></th>
                <th><div>Total Cost</div></th>
                <th><div>Profit/Loss</div></th>
            </tr>    
        
        
              <!-- <form action="" method="POST"> -->
         
            <tr>
            <td>
                <select id="dropdown1">
                <option value="BTC" selected>Bitcoin</option>
                <option value="ETH">Ethereum</option>
                <option value="XRP">XRP</option>
                <option value="LTC">Litecoin</option>
                <option value="EOS">EOS</option>
                <option value="BCH">Bitcoin Cash</option>
                <option value="XLM">Stellar</option>
                <option value="ADA">Cardano</option>
                <option value="TRX">Tron</option>
              </select>
            </td>  
              <td><input type="date" id="date1" value="" name="dateBought" /></td>
              <td><input type="text" value="" name="Quantity bought"  class="number1"/></td>
              <td><span class="currencyinput">$<input type="text"  class="number2" name="Price paid" value="" /></span></td>
              <td><span class="currencyinput">$<input type="text" value=""  name="Total Cost" class="number3"/></span></td>
              <td> <span class="currencyinput">$<input type="text" value="" name="Profit/Loss"  class="number4" /></span></td>
            </tr>
              <!--number (above) if needed -- code min="0" step="0.01" data-number-to-fixed="2" data-number-stepfactor="100"-->
               <!-- add another row option (JS?) -->
            <tr>
            <td><select id="dropdown2">
                <option value="BTC" selected>Bitcoin</option>
                <option value="ETH">Ethereum</option>
                <option value="XRP">XRP</option>
                <option value="LTC">Litecoin</option>
                <option value="EOS">EOS</option>
                <option value="BCH">Bitcoin Cash</option>
                <option value="XLM">Stellar</option>
                <option value="ADA">Cardano</option>
                <option value="TRX">Tron</option>
              </select>
            </td>
            <td><input type="date" id="date1" value="" name="dateBought" /></td>
            <td><input type="text" value="" name="Quantity bought"  class="number5"/></td>
            <td><span class="currencyinput">$<input type="text"  class="number6" name="Price paid" value="" /></span></td>
            <td><span class="currencyinput">$<input type="text" value=""  name="Total Cost" class="number7"/></span></td>
            <td><span class="currencyinput">$<input type="text" value="" name="Profit/Loss"  class="number8" /></span></td>
            </tr> <!-- </form> -->
            </table>
        
        </div>
          <!-- add new row section -->
          <div><button type="submit" id="newrow">Add more coins</button></div>
         <!-- <div id="container3">  -->
          <!-- <div><table id="myTable">
            <tr>
                    <td>Row1</td>
                    <td>Row1</td>
                    <td>Row1</td>
                    <td>Row1</td>
                    <td>Row1</td>
                    <td>Row1</td>
            </tr>         
          </table></div>
        </div> --> 

      <!-- footer -->

          <footer id="footy">
            <div id="ftbox1">CryptoWish <br /><br />
              <p>CryptoWish is a fun way to track all your 'potential profits and losses without any of the actual risk! That way you can invest and know that you will not lose any money, the only downfall is...you will not also make any money. <br /> We are a fun new website that brings entertainment and investment all into one! </p><p>Good Luck and Happy Trading!!!</p></div>
                <div id="ftbox2"><p>Donations <br /></p>
                  <p><img src="./assets/images/bitcoin.webp" id="btcdonate"><a href="https://www.blockchain.com/btc/address/1DbMnJedLp9oyZK83HDjCbWD2CJiAFRqNV" target="blank">1DbMnJedLp9oyZK83HDjCbWD2CJiAFRqNV</a>(BTC)</p>
                  <p><img src="./assets/images/ethereum.png" id="btcdonate"><a href="https://etherscan.io/address/0x3aa0be33a6e4b2bebe44455fcdb3888f92e1471b" target="blank">0x3aa0be33a6e4b2bebe44455fcdb3888f92e1471b></a></p>
                  <p></p><img src="./assets/images/litecoin.png" id="btcdonate"> <a href="https://live.blockcypher.com/ltc/address/LT6GpHQ2c9JkUJwZBniWsWC3WPXYrG1xUv" target="blank">LT6GpHQ2c9JkUJwZBniWsWC3WPXYrG1xUv</a> (LTC)</p>
                  <p></p><img src="./assets/images/bitcoin_cash.png" id="btcdonate"><a href="https://blockchair.com/bitcoin-cash/address/rPVMhWBsfF9iMXYj3aAzJVkPDTFNSyWdKy" target="blank"> rPVMhWBsfF9iMXYj3aAzJVkPDTFNSyWdKy</a> (BCH)</p>
                  <p></p><img src="./assets/images/circle-zcash-color.png" id="btcdonate"><a href="./assets/images/downloadzcash.png" target="blank"> t1UFb7HEmLQHmbXkvvwWTzQssZKiGoLFsku</a> (ZEC)</p>
                </div>
                    <div id="ftbox3"><p>Helpful Links <br /></p>
                      <p>API Powered by <a href="https://www.coingecko.com/en" target="_blank">CoinGecko API</a></p></div>
          </footer>
    
  
  <script src="./cryptowishmain.js"></script>
  <script>

$('#newrow').click(runtask);

function runtask() {
    $("#myTable > tbody").append("<tr><td>" + '<select id="dropdown2"><option value="BTC" selected>Bitcoin</option><option value="ETH">Ethereum</option><option value="XRP">XRP</option><option value="LTC">Litecoin</option><option value="EOS">EOS</option><option value="BCH">Bitcoin Cash</option><option value="XLM">Stellar</option><option value="ADA">Cardano</option><option value="TRX">Tron</option></select>'  + "</td><td>" + '<input type="date" id="date1" value="" name="dateBought" />' + "</td><td>" + '<input type="text" value="" name="Quantity bought"  class="number1"/>' + "</td><td>" + '<span class="currencyinput">$<input type="text"  class="number2" name="Price paid" value="" /></span>' + "</td><td>" + '<span class="currencyinput">$<input type="text" value=""  name="Total Cost" class="number3"/></span>' + "</td> + <td>" + '<span class="currencyinput">$<input type="text" value="" name="Profit/Loss"  class="number4" /></span>' + "</td></tr>");
}
// trainData.on("child_added", function(childSnapshot, prevChildKey){
//   $("#trainTable > tbody").append("<tr><td>" + trainName + "</td><td>" + destination + "</td><td>" + "Every " + frequency + " minutes" + "</td><td>" + nextTrainConverted + "</td><td>" + tMinutesTillTrain + "</td></tr>");

// });

// function addnewrow() {
//   let table =  document.getElementById('myTable');
//   let row = table.insertRow(0);
//   let cell1 = row.insertCell(0);
//   let cell2 = row.insertCell(1);
//   let cell3 = row.insertCell(2);
//   let cell4 = row.insertCell(3);
//   let cell5 = row.insertCell(4);

// }
// $(document).ready(function() {
// var queryURL = "https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest?CMC_PRO_API_KEY=Y50c21e04-ba24-4f94-93a5-7d6ee709d647";

// $.ajax({
// url: queryURL,
// method: "GET",
// })
// // We store all of the retrieved data inside of an object called "response"
// .then(function(response) {

// // Log the queryURL
// console.log(queryURL);

// // Log the resulting object
// console.log(response);
// $("#crypto-list").html("<h1>" + response[0].id + "</h1>");
// $("#crypto-list1").html("<h1>" + response[2].id + "</h1>");
// console.log("Wind Speed: " + response[1].id);
// }); 


      $(document).ready(function() {
  // $.getJSON(url, callback);
  $.getJSON('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&per_page=3&page=1', function(json) {
    tableGenerator('#tableName', json);
  });
});

function tableGenerator(selector, data) { // data is an array
  var keys = Object.keys(Object.assign({}, ...data));// Get the keys to make the header
  // Add header
  var head = '<thead><tr>';
  keys.forEach(function(key) {
    head += '<th>'+key+'</th>';
  });
  $(selector).append(head+'</tr></thead>');
  var body = '<tbody>';
  data.forEach(function(obj) { // For each row
    var row = '<tr>';
    keys.forEach(function(key) { // For each column
      row += '<td>';
      if (obj.hasOwnProperty(key)) { // If the obj doesnt has a certain key, add a blank space.
        row += obj[key];
      // row += "<img src = '" + key.imageLink + "' " + "alt='" + key.altText + "'></td> ";
      }
       row += '</td>';

    });
    body += row+'<tr>';
      
  })
  $(selector).append(body+'</tbody>');

  }

// coin input data calculations
$(".number1, .number2").bind('change', function(){
      $(".number3").val($(".number1").val() * $(".number2").val());
});

$(".number5, .number6").bind('change', function(){
      $(".number7").val($(".number5").val() * $(".number6").val());
});

// add new row functionality
// document.getElementById('getMessage').onclick=function(){
//             req=new XMLHttpRequest();
//             req.open("GET",'/json/cats.json',true);
//             req.send();
//             req.onload=function(){
//               json=JSON.parse(req.responseText);
//               var html = "";
//               json.forEach(function(val) {
//                 html += "<div class = 'cat'>";
//                 // Add your code below this line
//                 html += "<img src = '" + val.imageLink + "' " + "alt='" + val.altText + "'>";
                
//                 // Add your code above this line
//                 html += "</div><br>";
//               });
//               document.getElementsByClassName('message')[0].innerHTML=html;
//             }; 




  </script>
      
</body>
</html>
   